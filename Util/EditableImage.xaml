<Grid x:Name="xImageGrid" x:FieldModifier="public"
    x:Class="Dash.EditableImage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Dash"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid.RowDefinitions>
        <RowDefinition Height="*"></RowDefinition>
        <RowDefinition Height="Auto"></RowDefinition>
    </Grid.RowDefinitions>
    <Grid Grid.Row="0">
        <!--draggers for image-->
        <Ellipse x:Name="xBottomLeftDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xBottomRightDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xTopLeftDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xTopRightDragger" Style="{StaticResource xDraggerEllipseStyle}"/>

        <!--image-->
        <Image x:Name="xImage" Stretch="Fill" CacheMode="BitmapCache" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                   DoubleTapped="xImage_DoubleTapped" Source="null"></Image>

        <!--draggers for clip rect-->
        <Ellipse x:Name="xCLIPBottomLeftDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xCLIPBottomRightDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xCLIPTopLeftDragger" Style="{StaticResource xDraggerEllipseStyle}"/>
        <Ellipse x:Name="xCLIPTopRightDragger" Style="{StaticResource xDraggerEllipseStyle}"/>

        <!--clipping rectangle-->
        <Rectangle x:Name="xClipRectangle" StrokeDashArray="4 4" StrokeThickness="1" Stroke="LightBlue"></Rectangle>
    </Grid>

    <!--edit pane-->
    <StackPanel x:Name="xEditStackPanel" Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" 
                    VerticalAlignment="Bottom" Background="#FF0F0F0F" CornerRadius="5" Visibility="Collapsed">

        <Button x:Name="xImageButton" Tapped="xImageButton_Tapped">
            <ContentControl>
                <Border VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="40" Width="40" Background="DarkGray">
                    <SymbolIcon Symbol="Pictures" Foreground="WhiteSmoke"></SymbolIcon>
                </Border>
            </ContentControl>
        </Button>
        <!--🖻-->

        <Button x:Name="xClipButton" Tapped="xClipbutton_Tapped" >
            <ContentControl>
                <Border VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="40" Width="40" Background="DarkGray">
                    <SymbolIcon Symbol="Crop" Foreground="WhiteSmoke" ></SymbolIcon>
                </Border>
            </ContentControl>
        </Button>
        <!--⌗-->

        <Button Background="DarkGray" Foreground="WhiteSmoke" Tapped="DoneButton_Tapped">Done</Button>
    </StackPanel>
</Grid>
