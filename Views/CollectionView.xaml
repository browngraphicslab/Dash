<UserControl
    x:Class="Dash.CollectionView"
    x:Name="Control"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:dash="using:Dash"
    mc:Ignorable="d"
    d:DesignHeight="600"
    d:DesignWidth="600">

    <Grid>
        <Grid x:Name="Grid" Height="{Binding OuterGridHeight}" Width="{Binding  OuterGridWidth}" BorderThickness="1" Margin="178,178,22,22">
            <Grid.Background>
                <SolidColorBrush Color="White"/>
            </Grid.Background>
            <Grid x:Name="ContainerGrid" HorizontalAlignment="Left" Height="{Binding  ContainerGridHeight}" Margin="0,23,0,0" VerticalAlignment="Top" Width="{Binding  ContainerGridWidth}">

                <Grid Width="{Binding ElementName=GridView, Path=Width}" Height="{Binding ElementName=GridView, Path=Height}" Visibility="{Binding GridViewVisibility}">
                    <GridView x:Name="GridView" x:FieldModifier="public" Width ="{Binding Path=ContainerGridWidth}" Height="{Binding Path=ContainerGridHeight}"  Padding="5"
                          SelectionMode="{Binding ItemSelectionMode}" CanDragItems="true">
                    </GridView>
                </Grid>

                <Grid Visibility="{Binding ListViewVisibility}">
                    <ListView x:Name="ListView" x:FieldModifier="public" FlowDirection="LeftToRight" HorizontalAlignment="Left" 
                  VerticalAlignment="Top"  Width="{Binding Path=ContainerGridWidth}" 
                  ScrollViewer.HorizontalScrollMode="Enabled"
                  ScrollViewer.VerticalScrollMode="Disabled"
                  ScrollViewer.VerticalScrollBarVisibility="Disabled"
                  ScrollViewer.HorizontalScrollBarVisibility="Auto"
                  SelectionMode="{Binding ItemSelectionMode}" CanDragItems="true" >
                        <ListView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Background="Transparent" Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ListView.ItemsPanel>
                    </ListView>
                </Grid>

            </Grid>

            <!--<Rectangle x:Name="BottomBar" Margin="3,378,0,0" HorizontalAlignment="Left" Height="21" VerticalAlignment="Top" Width="397" Opacity="0.75">
            <Rectangle.Fill>
                <SolidColorBrush Color="#CCFFFFFF"/>
            </Rectangle.Fill>
        </Rectangle>
        <Rectangle x:Name="TopBar" HorizontalAlignment="Left" Height="21" VerticalAlignment="Top" Width="398" Opacity="0.75" Margin="1,1,0,0">
            <Rectangle.Fill>
                <SolidColorBrush Color="#CCFFFFFF"/>
            </Rectangle.Fill>
        </Rectangle>-->

            <Rectangle x:Name="Dragger" Width ="20" Height="15" Stroke="{Binding DraggerStroke}" Fill ="{Binding DraggerFill}" 
                       Margin="{Binding  DraggerMargin}" ManipulationMode="All"
                       Visibility="{Binding ControlsVisibility}"/>
            
            <Rectangle x:Name="ProportionalDragger" Width ="20" Height="15" Stroke="{Binding ProportionalDraggerStroke}"  
                       Fill ="{Binding  ProportionalDraggerFill}" Margin="{Binding  ProportionalDraggerMargin}" 
                       ManipulationMode="All" Visibility="{Binding ControlsVisibility}"/>

            <Button x:Name="DisplayButton" HorizontalAlignment="Left" VerticalAlignment="Top" Height="21" Width="51" 
                Background="#33C3C3C3" FontSize="10" Margin="0,0,0,0" Content="Display" Padding="0">
                <Button.Flyout>
                    <MenuFlyout >
                        <MenuFlyoutItem x:Name="GridOption" Text="Grid"/>
                        <MenuFlyoutItem x:Name="ListOption" Text="List"/>
                    </MenuFlyout>
                </Button.Flyout>
            </Button>

            <Button x:Name="CloseButton" Content ="Close" HorizontalAlignment="Right" VerticalAlignment="Top" Height="21" 
                Width="34" Padding="0" Background="#33C3C3C3" FontSize="10"/>
            <Button x:Name="SelectButton" Content ="Select" VerticalAlignment="Top" Height="21" 
                Width="34" Padding="0" Background="#33C3C3C3" FontSize="10" Margin="{Binding SelectButtonMargin}"/>
            <Button x:Name="DeleteButton" x:FieldModifier="public"  Content="Options" VerticalAlignment="Top" Height="21" 
                Width="51" Padding="0" Background="#33C3C3C3" FontSize="10">
                <Button.Flyout>
                    <MenuFlyout Placement="Bottom">
                        <MenuFlyoutItem x:Name="Deselect" Text="Deselect"/>
                        <MenuFlyoutItem x:Name="DeleteSelected" Text="Delete"/>
                    </MenuFlyout>
                </Button.Flyout>
            </Button>

        </Grid>

    </Grid>

</UserControl>

