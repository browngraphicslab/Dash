<UserControl
    x:Class="Dash.RichTextView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Dash"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400">

    <Grid Name="LayoutGrid">
        <Grid.Resources>
            <Style TargetType="Button">
                <Setter Property="Background" Value="{ThemeResource DocumentHighlightBackground}"></Setter>
                <Setter Property="Foreground" Value="{ThemeResource TranslucentWhite}"></Setter>
            </Style>
        </Grid.Resources>
        <!--<Canvas VerticalAlignment="Bottom">-->
        <RichEditBox x:FieldModifier="public" 
                         AllowDrop="True"
                         Grid.Row="0"
                         Foreground="{StaticResource MainText}"
                         GotFocus="xRichEditBox_GotFocus"
                         LostFocus="XRichEditBox_OnLostFocus"
                         Drop="xRichEditBox_Drop"   
                         x:Name="xRichEditBox" 
                         VerticalAlignment="Stretch" 
                         HorizontalAlignment="Stretch" 
                         SelectionChanged="xRichEditBox_SelectionChanged"  
                         BorderThickness="0"
                         IsColorFontEnabled="True" 
                         SelectionHighlightColor="{StaticResource DarkWindowsBlue}"
                         Holding="XRichEditBox_OnHolding"
                         IsTextPredictionEnabled="True"
                         Background="Transparent"
                        
                         >
            <!--FORMAT PROPERTIES TOOLTIP-->
            <ToolTipService.ToolTip>
                <ToolTip x:Name="xFormatTip" Background="{StaticResource DarkBackground}" Padding="3">
                    <ToolTip.Content>
                        <TextBlock x:Name="xFormatTipText" Padding="2" FontSize="10" Foreground="White">
                        </TextBlock>
                    </ToolTip.Content>
                </ToolTip>
            </ToolTipService.ToolTip>
            <!--FORMAT OPTIONS FLYOUT-->
            <FlyoutBase.AttachedFlyout>
                <Flyout>
                    <Grid Background="Blue" Width="300" Height="120">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0" Background="Red"/>
                        <Grid Grid.Row="1" Background="Black"/>
                    </Grid>
                    
                </Flyout>
                <!--<MenuFlyout>
                    <MenuFlyout.MenuFlyoutPresenterStyle>
                        <Style TargetType="MenuFlyoutPresenter">
                            <Setter Property="Background"  Value="{StaticResource DarkBackground}"></Setter>
                            <Setter Property="Opacity" Value="0.8"></Setter>
                        </Style>
                    </MenuFlyout.MenuFlyoutPresenterStyle>
                    <MenuFlyoutSubItem x:Name="xFormat" Text="Font" Foreground="White" GotFocus="FormatGroup_OnGotFocus">
                        <MenuFlyoutSubItem x:Name="xFont" Text="Font" GotFocus="FontGroup_OnGotFocus" Foreground="White"></MenuFlyoutSubItem>
                        <MenuFlyoutSubItem x:Name="xScript" Text="Script" Foreground="White" GotFocus="FormatGroup_OnGotFocus"></MenuFlyoutSubItem>
                        <MenuFlyoutSubItem x:Name="xCaps" Text="Caps" Foreground="White" GotFocus="FormatGroup_OnGotFocus"></MenuFlyoutSubItem>
                    </MenuFlyoutSubItem>
                    <MenuFlyoutSubItem x:Name="xParagraph" Text="Paragraph" Foreground="White" GotFocus="ParagraphGroup_OnGotFocus">
                        <MenuFlyoutSubItem x:Name="xAlignment" Text="Alignment" Foreground="White" GotFocus="ParagraphGroup_OnGotFocus"></MenuFlyoutSubItem>
                        <MenuFlyoutSubItem x:Name="xListTypes" Text="List" Foreground="White" GotFocus="ParagraphGroup_OnGotFocus"></MenuFlyoutSubItem>
                        <MenuFlyoutSubItem x:Name="xListStyles" Text="List Style" Foreground="White" GotFocus="ParagraphGroup_OnGotFocus"></MenuFlyoutSubItem>
                        <MenuFlyoutSubItem x:Name="xListAlignments" Text="List Alignment" Foreground="White" GotFocus="ParagraphGroup_OnGotFocus"></MenuFlyoutSubItem>
                    </MenuFlyoutSubItem>
                    <MenuFlyoutSubItem x:Name="xHighlight" Text="Higlight" GotFocus="HighlightGroup_OnGotFocus" Foreground="White">
                        <MenuFlyoutSubItem x:Name="xHighlightOpacity" Text="Opacity" GotFocus="HighlightGroup_OnGotFocus" Foreground="White"></MenuFlyoutSubItem>
                    </MenuFlyoutSubItem>
                    <MenuFlyoutSubItem x:Name="xColor" Text="Color" GotFocus="ColorGroup_OnGotFocus" Foreground="White"></MenuFlyoutSubItem>
                    <MenuFlyoutSeparator></MenuFlyoutSeparator>
                    <MenuFlyoutItem x:Name="xResetAll" Text="Reset All" Foreground="White" Click="XResetAll_OnClick"></MenuFlyoutItem>
                </MenuFlyout>-->
            </FlyoutBase.AttachedFlyout>
        </RichEditBox>

        <StackPanel x:Name="xSearchBoxPanel" Grid.Row="0" Orientation="Vertical" HorizontalAlignment="Right"
                        VerticalAlignment="Top" Margin="5" Visibility="Collapsed">
                <StackPanel Orientation="Horizontal"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <!--EXPAND/COLLAPSE REPLACE BOX BUTTON-->
                    <Button x:Name="xReplaceModeButton" Content="▲" Padding="-3" Height="25" Width="15" Foreground="Gray" FontSize="8" Background="WhiteSmoke"></Button>
                    <!--SEARCH BOX-->
                    <SearchBox x:Name="xSearchBox" Padding="0"  Height="25" Width="100" BorderBrush="Transparent" Background="WhiteSmoke"></SearchBox>
                    <!--BUTTON FOR CLOSING SEARCH REGION-->
                    <Button x:Name="xSearchDelete" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="-3"
                            Height="25" Width="15" VerticalContentAlignment="Top" Background="WhiteSmoke">
                        <TextBlock Text="x" Padding="1"></TextBlock>
                    </Button>
                </StackPanel>
                <!--REPLACE BOX-->
                <StackPanel x:Name="xReplaceBoxPanel" Orientation="Horizontal" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Visibility="Collapsed">
                    <TextBlock Padding="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="10" Foreground="DimGray">Replace:</TextBlock>
                    <TextBox x:Name="xReplaceBox" Padding="2" HorizontalAlignment="Stretch" Width="90" BorderBrush="Transparent" Background="WhiteSmoke" FontSize="10"></TextBox>
                    <StackPanel.Clip>
                        <RectangleGeometry Rect="0,0,150,20"></RectangleGeometry>
                    </StackPanel.Clip>
                </StackPanel>
            </StackPanel>
        <!--</Canvas>-->
    </Grid>
</UserControl>
