<UserControl
    x:Class="Dash.DocumentDecorations"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Dash"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:dash="using:Dash"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    mc:Ignorable="d"
    PointerEntered="DocumentDecorations_OnPointerEntered"
    PointerExited="DocumentDecorations_OnPointerExited"
    d:DesignHeight="300"
    d:DesignWidth="400">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="ContentColumn" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition x:Name="xRow"/>
            <RowDefinition x:Name="XSuggestRow" Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid.Resources>
            <Storyboard x:Name="xFadeAnimationIn">
                <DoubleAnimation
                    Storyboard.TargetName="SuggestGrid"
                    Storyboard.TargetProperty="Opacity"
                    From="0.0" To="1.0" Duration="0:0:.5"
                />
            </Storyboard>

            <Storyboard x:Name="xFadeAnimationOut">
                <DoubleAnimation
                    Storyboard.TargetName="SuggestGrid"
                    Storyboard.TargetProperty="Opacity"
                    From="1.0" To="0.0" Duration="0:0:.5"
                />
            </Storyboard>
        </Grid.Resources>

        <Border Grid.Row="0" Grid.Column="0" VerticalAlignment="Stretch" Visibility="{x:Bind VisibilityState, Mode=OneWay}" x:Name="xMultiSelectBorder"
                HorizontalAlignment="Stretch" BorderBrush="LightCoral" BorderThickness="2" />

        <Grid x:Name="xStackPanel" Grid.Column="1" Height="Auto" Background="Transparent" VerticalAlignment="Top"  Visibility="{x:Bind VisibilityState, Mode=OneWay}">
            <Grid.RowDefinitions>
                <RowDefinition Height="26"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border x:Name="xAnnotateEllipseBorder" Grid.Row="0" CanDrag="True" Background="Transparent"
                PointerPressed="XAnnotateEllipseBorder_OnPointerPressed" PointerReleased="AllEllipses_OnPointerReleased" Tapped="XAnnotateEllipseBorder_OnTapped" RightTapped="XAnnotateEllipseBorder_OnRightTapped"
                HorizontalAlignment="Left" VerticalAlignment="Top" Padding="0 0 0 0" DragStarting="XAnnotateEllipseBorder_OnDragStarting" >
                <Grid  >
                    <Ellipse x:Name="AnnotateEllipseUnhighlight" Width="22" Height="22"/>
                    <Ellipse x:Name="AnnotateEllipseHighlight"   Visibility="Collapsed"/>
                    <TextBlock x:Name="xAnnotateEllipseText" Foreground="White" FontFamily="Segoe MDL2 Assets" Text="&#xE167;" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0"/>
                    <ToolTipService.ToolTip>
                        <ToolTip Content="Create A Link" Placement="Right" HorizontalOffset="30" VerticalOffset="0"
                    />
                    </ToolTipService.ToolTip>
                </Grid>
            </Border>
            <StackPanel x:Name="xButtonsPanel"  VerticalAlignment="Top" Spacing="4" Visibility="{x:Bind VisibilityState, Mode=OneWay}">
            </StackPanel>

            <Grid x:Name="TEMPORARILY_disableTemplateEditor" Visibility="Collapsed">
                <Border x:Name="xTemplateEditorEllipseBorder" CanDrag="True" Background="Transparent" Visibility="{x:Bind VisibilityState, Mode=OneWay}" 
                    PointerPressed="XTemplateEditorEllipseBorder_OnPointerPressed" PointerReleased="AllEllipses_OnPointerReleased"
                HorizontalAlignment="Left" VerticalAlignment="Top" Padding="0 0 0 0">
                    <Grid HorizontalAlignment="Left">
                        <Ellipse x:Name="TemplateEditorEllipseBorderUnhighlight" />
                        <Ellipse x:Name="TemplateEditorEllipseBorderHighlight"
                     Visibility="Collapsed"/>
                        <TextBlock x:Name="xTemplateEllipseText" Foreground="White" FontFamily="Segoe MDL2 Assets" Text="&#xE14E;" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="1,0,0,0"/>

                        <ToolTipService.ToolTip>
                            <ToolTip Content="Open Template Editor" Placement="Right" HorizontalOffset="30" VerticalOffset="0"
                       />
                        </ToolTipService.ToolTip>

                    </Grid>
                </Border>
            </Grid>
        </Grid>



        <Grid BorderBrush="{StaticResource DashDarkBlueBrush}" Background="White" BorderThickness="0 0 0 0" Grid.Row="1" Grid.Column="0" x:Name="SuggestGrid" HorizontalAlignment="Stretch" Margin="2,-2,2,0" Visibility="Collapsed">


            <StackPanel Orientation="Vertical" >


                <Grid Margin="0,3,0,0">

                    <AutoSuggestBox Grid.Column="0" MinHeight="25" Height="33" FontSize="7"
                                    PlaceholderText="Enter link type" 
                                    TextChanged="AutoSuggestBox_TextChanged"
                                    UpdateTextOnSelect="False"
                                    Name="xAutoSuggestBox"
                                    Background="White"
                                    BorderThickness="0"
                                    VerticalAlignment="Top"
                                    FocusVisualPrimaryThickness="0"
                                    FocusVisualSecondaryThickness="0"

                                    Margin="3 0 0 0"
                                    KeyUp="XAutoSuggestBox_OnKeyUp"
                                    AllowDrop="True" HorizontalAlignment="Stretch"/>
                </Grid>

                <Grid Margin="3 5 5 5" x:Name="xRecentTagsDivider" Visibility="Collapsed">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" FontSize="9" Foreground="{StaticResource DashDarkBlueBrush}" FontWeight="SemiBold"  Height="10" Padding="0" Width="35" VerticalAlignment="Top" TextAlignment="Left"  Margin="0,-5.5,0,0">RECENT</TextBlock>
                    <Grid Grid.Column="1" BorderBrush="{StaticResource DashDarkBlueBrush}" BorderThickness="0 1.5 0 0"/>

                </Grid>
                <Grid Margin="0 0 0 0" x:Name="xRecentTagsGrid">
                    <controls:WrapPanel x:Name="xTest" HorizontalAlignment="Center" Margin="5 0 0 0" Padding="0"></controls:WrapPanel>
                </Grid>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
